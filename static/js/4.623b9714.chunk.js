(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{104:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return T}));var c=n(0),a=n(87),r=n(8),i=n(18),o=n.n(i),s=n(10),u=function(){return function(t){t(Object(s.i)()),o.a.get("/contacts").then((function(e){var n=e.data;return t(Object(s.j)(n))})).catch((function(e){return t(Object(s.h)(e.message))}))}},b=function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(Object(s.b)()),o.a.post("/contacts",c).then((function(e){var n=e.data;return t(Object(s.c)(n))})).catch((function(e){return t(Object(s.a)(e.message))}))}},l=function(t){return function(e){e(Object(s.f)()),o.a.delete("/contacts/".concat(t)).then((function(){return e(Object(s.g)(t))})).catch((function(t){return e(Object(s.e)(t.message))}))}},j=n(26),m=function(t){return t.contacts.filter},f={getLoading:function(t){return t.contacts.loading},getFilter:m,getVisibleContacts:Object(j.a)([function(t){return t.contacts.items},m],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},O=n(105),d=(n(89),n(94)),h=n.n(d),x=n(103),_=n(86),g=n(1);function p(){var t=Object(r.b)(),e=Object(c.useState)(""),n=Object(a.a)(e,2),i=n[0],o=n[1],s=Object(c.useState)(""),u=Object(a.a)(s,2),l=u[0],j=u[1],m=Object(c.useState)(!1),d=Object(a.a)(m,2),p=d[0],v=d[1],C=Object(r.c)(f.getVisibleContacts),N=Object(r.c)(f.getLoading);return Object(g.jsxs)("div",{children:[Object(g.jsx)(O.a,{in:p,appear:!0,classNames:"error",timeout:250,unmountOnExit:!0,children:Object(g.jsx)(x.a,{variant:"warning",children:"This contact exists already!"})}),Object(g.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),C.find((function(t){return t.name.toLowerCase()===e.currentTarget.elements[0].value.toLowerCase()})))return v(!0),setTimeout((function(){v(!1)}),1500);!function(e,n){t(b({name:e,number:n}))}(i,l),o(""),j("")},children:Object(g.jsxs)("div",{className:h.a.form,children:[Object(g.jsxs)("label",{className:h.a.label,children:["Name",Object(g.jsx)("input",{className:h.a.input,type:"text",name:"name",value:i,onChange:function(t){o(t.currentTarget.value)}})]}),Object(g.jsxs)("label",{className:h.a.label,children:["Number",Object(g.jsx)("input",{className:h.a.input,type:"text",name:"number",value:l,onChange:function(t){j(t.currentTarget.value)}})]}),Object(g.jsx)(_.a,{variant:"secondary",size:"lg",block:!0,type:"submit",children:"Add contact"}),N&&Object(g.jsx)("h1",{children:"Loading..."})]})})]})}p.defaultProps={type:"text",name:null};var v=n(97),C=n.n(v),N=n(106);function L(){var t=Object(r.c)(f.getVisibleContacts),e=Object(r.b)(),n=Object(c.useCallback)((function(t){e(l(t))}),[e]);return Object(g.jsx)(N.a,{component:"ul",className:C.a.ContactList,children:t.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(g.jsx)(O.a,{timeout:250,classNames:C.a,children:Object(g.jsxs)("li",{className:C.a.ContactList_item,children:[c,": ",a,Object(g.jsx)(_.a,{variant:"danger",size:"sm",onClick:function(){return n(e)},children:"Delete"})]})},e)}))})}var F=n(98),w=n.n(F);function y(){var t=Object(r.b)(),e=Object(r.c)(f.getFilter);return Object(g.jsx)("div",{className:w.a.form,children:Object(g.jsxs)("label",{className:w.a.label,children:["Find contacts by name",Object(g.jsx)("input",{className:w.a.input,type:"text",value:e,onChange:function(e){return t(Object(s.d)(e.target.value))}})]})})}var k=n(36),S={bar:{width:400,marginLeft:"auto",marginRight:"auto",padding:"20 30",borderColor:"rgb(219, 216, 216)",boxShadow:"0 4 4 rgba(0, 0, 0, 0.25)"},title:{fontSize:"42",fontWeight:"700",margin:"0 0 15 0",color:"#007bff"}};function T(){var t=Object(r.b)();return Object(c.useEffect)((function(){t(u())}),[t]),Object(g.jsx)(k.a,{children:Object(g.jsxs)("div",{style:S.bar,children:[Object(g.jsx)(O.a,{in:!0,appear:!0,classNames:"fade",timeout:500,children:Object(g.jsx)("h1",{style:S.title,children:"Phonebook"})}),Object(g.jsx)(p,{}),Object(g.jsx)(O.a,{in:!0,classNames:"fade",timeout:500,unmountOnExit:!0,children:Object(g.jsx)(y,{})}),Object(g.jsx)(O.a,{in:!0,classNames:"fade",timeout:250,unmountOnExit:!0,children:Object(g.jsx)(L,{})})]})})}},89:function(t,e,n){},94:function(t,e,n){t.exports={label:"ContactForm_label__3JpD8",form:"ContactForm_form__3RlYc",input:"ContactForm_input__1YsuU"}},97:function(t,e,n){t.exports={ContactList:"Contacts_ContactList__1FHCJ",ContactList_item:"Contacts_ContactList_item__2nTUr",button:"Contacts_button__7iNXC",enter:"Contacts_enter__SbIuF",enterActive:"Contacts_enterActive__oC3MZ",exit:"Contacts_exit__1gpwd",exitActive:"Contacts_exitActive__3FZL0"}},98:function(t,e,n){t.exports={label:"Filter_label__1VWFy",input:"Filter_input__ZmtD4",form:"Filter_form__2fzYW"}}}]);
//# sourceMappingURL=4.623b9714.chunk.js.map